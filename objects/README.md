# Решение домашнего задания к лекции 1.6 «Объекты»

## Перед началом работы
1. Активируйте строгий режим соответствия.
2. Скопируйте код ниже и вставьте его в начало своей работы:
```javascript
var positions = [
  'Телепорт бытовой VZHIH-101',
  'Отвертка ультразвуковая WHO-D',
  'Ховерборд Mattel 2016',
  'Нейтрализатор FLASH black edition',
  'Меч световой FORCE (синий луч)'
];

var prices = [
  10000,
  4800,
  9200,
  2500,
  57000
];

var hitName = positions[2], hitPrice = prices[2];
```
 
## Задача № 1

### Описание задания
В этом месяце мы определили хит продаж. Его название — в переменной `hitName`, а цена — в `hitPrice`. Cоздадим и поместим в переменную `hit` объект со свойствами `name` и `price` и выведем информацию о нём в консоль.

### Процесс реализации
1. Создать пустой объект и присвоить его в переменную `hit`.
2. Добавить свойства `name` и `price`, поместив туда название и цену текущего хита.
3. Вывести, используя переменную `hit`, информацию о товаре:

Создать пустой объект и присвоить его в переменную можно через `var`:
```javascript
var hit = {};
```
Добавляем свойства:
```javascript
hit = {
  name: hitName,
  price: hitPrice
}
```

Через `console.log` выводим значение (и перенос строки):
```javascript
console.log(`Хит продаж мартобря: <${hit.name}> цена ${hit.price} Q`);
console.log('\n');
```

## Задача № 2

### Описание задания
Преобразуем информацию о товарах в массивах `positions` и `prices` в массив объектов `items` с ключами `name` и `price`.

### Процесс реализации
1. Создайте пустой массив в переменной `items`.
2. Создайте для каждого товара новый объект.
3. Запишите название товара в свойство name созданного объекта.
4. Запишите цену товара в свойство `price` созданного объекта.
5. Поместите новый объект в массив `items`.
6. После того, как все товары преобразованы, выведите, используя массив `items`, информацию о товаре с индексом `4` в консоль в виде:
```javascript
Купите Меч световой FORCE (синий луч) по цене 57000 Q
```

Создаем пустой массив в переменной `items`:
```javascript
let items = [];
```

Чтобы записать каждый элемент массивов `positions` и `prices` в новый объект, а затем поместить в массив - нужно воспользоваться циклом.
```javascript
for (let i = 0; i < positions.length; i++) {
  let item = {
    name: positions[i],
    price: prices[i]
  }
items.push(item);
}
```
В цикле проходим по всем элементам массива `positions`, и на каждый проход записываем в объект `item` нужное свойство (по индексу), а затем объект `item` через `push` вставляем в конец массива `items`.

Выводим товар с индексом 4:
```javascript
console.log(`Купите ${items[4].name} по цене ${items[4].price} Q`);
console.log('\n');
```
 
## Задача № 3

### Описание задания
Для нашего отдела оптовых продаж необходимо реализовать функцию, которая принимает в качестве аргумента объект товара и количество штук и выводит в консоль информацию о его стоимости с учетом объема партии. Скидка от объема определяется следующим образом:
* До 10 штук — скидка 5 %
* От 10 до 50 штук — скидка 7 %
* От 50 до 100 штук — скидка 10 %
* 100 и более штук — скидка 15 %

### Процесс реализации
1. Создайте функцию `showDiscount`.
2. Определите размер скидки.
3. Вычислите стоимость партии с учетом скидки.
4. Вычислите выгоду с учетом скидки.
5. Выведите в консоль информацию о скидке в формате:
```javascript
Телепорт бытовой VZHIH-101 — стоимость партии из 12 штук 111600 Q (скидка 7 %), ваша выгода 8400 Q!
```

6. Вызовите полученную функцию для товара из массива `items` с индексом `0` и размером партии `12 штук`.
7. И для товара с индексом `3` и размером партии `97 штук`.

Создадим функцию `showDiscount` через ключевое слово `function`, передадим внутрь два аргумента - объект из массива `Items` и количество товаров.
```javascript
function showDiscount(objProd, quantity) {};
```

Следующим шагом будет определить размер скидки. Создадим две переменные - `discount`, без значения, для будущей записи в нее скидки, а так же переменную per со значением `0.01`. Впоследствии будем умножать `discount` (например 10) на `per`, поскольку именно дробные числа нам нужны для определения выгоды:
```javascript
let discount;
let per = 0.01;
```

Записываем в переменную `discount` нужное значение исходя из условия задачи:
```javascript
if (quantity < 10) {
    discount = 5; 
  }
  else if ((quantity >= 10) && (quantity < 50)) {
    discount = 7;
  }
  else if ((quantity >= 50) && (quantity < 100)) {
    discount = 10;
  }
  else {
    discount = 15;
  }
```
Например, если количество (мы его передали в качестве аргумента функции) равно 10 - получим скидку 7%.

Создаем промежуточное значение (дробь), умножая `per` на `discount`:
```javascript
let dec = discount * per;
```
Вычисляем общую сумму всей партии, умножая количество товаров на их цену:
```javascript
let consignment = objProd.price * quantity; //напоминаю, что objProd - это объект, который передаем в функцию)
```
Рассчитываем выгоду, перемножая сумму партии на наше дробное число:
```javascript
let profit = consignment * dec;
```
Считаем итоговую цену, с учетом скидки:
```javascript
let cost = consignment - profit;
```
Создаем шаблон для вывода результата:
```javascript
console.log(`${objProd.name} - стоимость партии из ${quantity} штук ${cost} Q (скидка ${discount} %), ваша выгода ${profit} Q`);
```
Исходя из условия задачи, вызываем функцию дважды, передавая нужные аргументы:
```javascript
showDiscount(items[0], 10);
showDiscount(items[3], 97);
console.log('\n');
```

## Задача № 4 

### Описание задания
На складе всех товаров в достаточном количестве. А вот товаров `items[3]` осталось всего 4. Решено вести учет их количества, чтобы вовремя узнать, что они закончились.

### Процесс реализации
1. Создайте свойство `amount` для соответствующего товара, в котором будем хранить остаток.
2. В качестве значения этого свойства запишите `4`.
3. Создайте функцию `updateAmount`, которая будет принимать объект товара и расход в штуках, по умолчанию `1`.
4. Проверьте, есть ли у объекта товара свойство `amount`. Если свойства нет, выходим из функции.
5. Если свойство `amount` равно нулю, или расход больше, чем `amount`, выводим сообщение вида:
```
Нейтрализатор FLASH black edition закончился на складе.
```

Если свойство `amount` больше расхода, уменьшаем на расход значение свойства и выводим сообщение вида:
```
Нейтрализатор FLASH black edition — остаток 3 шт.
```

Если свойство `amount` равно расходу, уменьшаем на расход значение свойства и выводим сообщение вида:
```
Это был последний Нейтрализатор FLASH black edition, вам повезло!
```

6. Вызываем полученную функцию для товара из массива `items` с индексом `1` и расходом `17`.
7. Потом для товара с индексом `3` и расходом `3`.
8. И еще один раз для товара с индексом `3`, расход не передаем.

Первым делом создаем для третьего элемента массива `Items` новое свойство `amount`, равное `4`:
```javascript
items[3].amount = 4;
```

Далее создаем функцию `updateAmount`, передавая два аргумента - объект и расход (расход по умолчанию должен быть равен 1):
```javascript
function updateAmount(objProduct, consum = 1) {};
```

Перед тем как выполнить расчет остатка, нужно убедиться, что у объекта есть свойство `amount`. И если его нет - из функции нужно выйти:
```javascript
if ('amount' in objProduct) {//код функции} else {console.log(‘Вы вышли из функции, т.к. у объекта нет свойства amount’); return;};
```

Внутри этого условия как раз и будет код нашей функции, которая будет считать остаток. Из условия задачи видно, что нужно создать несколько условий. Сделаем это:
```javascript
if ((objProduct.amount === 0) || (objProduct.amount < consum)) {
  console.log(`${objProduct.name} закончился на складе`);
}
else if (objProduct.amount > consum) {
  objProduct.amount -= consum;
  console.log(`${objProduct.name} - остаток ${objProduct.amount} шт.`);
}
else {
   objProduct.amount -= consum;
   console.log(`Это был последний ${objProduct.name}, вам повезло!`);
}
```

По условию задачи, если количество товара равно нулю или же меньше расхода - выводи просто что наш товар закончился на складе.

Если же товаров больше чем расхода - уменьшаем наше количество на этот расход и выводим строку:
```javascript
objProduct.amount -= consum;
console.log(`${objProduct.name} - остаток ${objProduct.amount} шт.`);
```
Если же количество равно расходу (или в нашем случае это просто ВСЕ иные значения `(else)`) - так же уменьшаем количество на расход и выводим нужную строку.

Трижды вызываем функцию с нужными параметрами:
```javascript
updateAmount(items[1],17);
updateAmount(items[3],3);
updateAmount(items[3]);
```